close all; clc; clear;

%% Read File and Construct Matrix
addpath('/Users/junhyeokahn/Repository/PnC/Addition/MatlabPlotter/functions/yaml')
addpath('/Users/junhyeokahn/Repository/PnC/Addition/RoboticsUtils/MATLAB/')
f = YAML.read('/Users/junhyeokahn/Repository/PnC/Config/FixedDraco/SysID/MASS.yaml');
num_joint = 5;
num_data = 100;
% Selection Matrix
S = [0, 0, 1, 0, 0, 0;
     1, 0, 0, 0, 0, 0;
     0, 1, 0, 0, 0, 0;
     0, 1, 0, 0, 0, 0;
     0, 1, 0, 0, 0, 0];
 
% Decision Variable
dm = sym('m', [5, 1]);
dr = sym('r', [5, 3]);

%% Data Pre-processing
data_name_list = fieldnames(f);
joint_name_list = fieldnames(f.data0);
num_data = length(data_name_list);
for i = 1 : num_data
    
    for j = 1 : 5
        T_j_j{j} = f.(fieldnames(f){i}).(filednames(f.(filednames(f){i})){i})
    end
%     T_j_com{i} =
%     R_w_com{i} = 
end

%% Generate Data
% Ax = y, where A = [A1; A2; ...; A